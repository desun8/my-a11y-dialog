{"version":3,"file":"a11y-dialog.js","sources":["../src/A11yDialog.ts","../src/A11yDialogOuterBtn.ts","../src/debugUtils.ts","../src/main.ts"],"sourcesContent":[null,null,null,null],"names":["FOCUSABLE_ELEMENTS","getSiblings","el","parentElement","children","filter","elm","tagName","A11yDialog","[object Object]","container","btnClose","this","undefined","dialog","querySelector","focusableElms","Array","from","querySelectorAll","join","firstFocusableElm","lastFocusableElm","length","siblings","addEvents","getAttribute","val","setAttribute","setAriaHidden","forEach","sibling","setVisible","tempBeforeFocusedElm","focus","isOpen","console","log","document","activeElement","setVisibleSiblings","restoreFocus","removeAttribute","event","preventDefault","e","key","shiftKey","handleBackwardTab","handleForwardTab","hide","addEventListener","handleKeyDown","bind","A11yDialogOuterBtn","dialogElm","openLabel","closeLabel","super","parentElm","deep","tree","some","body","push","elms","slice","elmSiblings","getBtnParent","getBtnSiblings","Date","now","timestamp","allowClick","show","printInfo","message","value","info","isBtnCloseInside","closest","id","A11yDialogInner"],"mappings":"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"}