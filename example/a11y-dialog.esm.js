var e,t;(e=window.document).getElementById("livereloadscript")||((t=e.createElement("script")).async=1,t.src="//"+(window.location.host||"localhost").split(":")[0]+":35729/livereload.js?snipver=1",t.id="livereloadscript",e.getElementsByTagName("head")[0].appendChild(t));const i=['a[href]:not([tabindex^="-"]):not([inert])','area[href]:not([tabindex^="-"]):not([inert])',"input:not([disabled]):not([inert])","select:not([disabled]):not([inert])","textarea:not([disabled]):not([inert])","button:not([disabled]):not([inert])",'iframe:not([tabindex^="-"]):not([inert])','audio:not([tabindex^="-"]):not([inert])','video:not([tabindex^="-"]):not([inert])','[contenteditable]:not([tabindex^="-"]):not([inert])','[tabindex]:not([tabindex^="-"]):not([inert])'];const s=document.querySelector("#dialog"),o=document.querySelector("#dialog .inner-btn-close"),n=new class{constructor(e,t){this.isUseInert=!1,this.tempBeforeFocusedElm=void 0,this.dialog=e,this.container=this.dialog.querySelector("[role='dialog'], [role='alertdialog']"),this.focusableElms=Array.from(this.dialog.querySelectorAll(i.join(","))),this.firstFocusableElm=this.focusableElms[0],this.lastFocusableElm=this.focusableElms[this.focusableElms.length-1],this.siblings=this.getSiblings(),this.btnClose=t,this.addEvents()}getSiblings(){return[...this.dialog.parentElement.children].filter((e=>e!==this.dialog&&"SCRIPT"!==e.tagName&&"STYLE"!==e.tagName)).filter((e=>"true"!==e.getAttribute("aria-hidden")))}setVisible(e,t){this.isUseInert&&((e,t)=>{e.inert=t})(e,t),((e,t)=>{e.setAttribute("aria-hidden",`${t}`)})(e,t)}setVisibleSiblings(e){this.siblings.forEach((t=>this.setVisible(t,e)))}restoreFocus(){this.tempBeforeFocusedElm&&(this.tempBeforeFocusedElm.focus(),this.tempBeforeFocusedElm=void 0)}show(){this.tempBeforeFocusedElm=document.activeElement,this.container.setAttribute("open",""),this.setVisible(this.dialog,!1),this.setVisible(this.btnClose,!1),this.setVisibleSiblings(!0),this.firstFocusableElm.focus()}hide(){this.restoreFocus(),this.container.removeAttribute("open"),this.setVisible(this.dialog,!0),this.setVisibleSiblings(!1)}handleKeyDown(e){const t=this;switch(e.key){case"Tab":if(1===t.focusableElms.length){e.preventDefault();break}e.shiftKey?(document.activeElement===t.firstFocusableElm&&(e.preventDefault(),t.lastFocusableElm.focus()),console.log("focus move to prev element")):(document.activeElement===t.lastFocusableElm&&(e.preventDefault(),t.firstFocusableElm.focus()),console.log("focus move to next element"));break;case"Escape":t.hide()}}addEvents(){this.dialog.addEventListener("keydown",this.handleKeyDown.bind(this)),this.btnClose.addEventListener("click",this.hide.bind(this))}}(s,o);window.dialog=n,document.querySelector(".btn-dialog").onclick=()=>n.show();
//# sourceMappingURL=a11y-dialog.esm.js.map
